# AWS 글로벌 인프라 구성
AWS 글로벌 인프라의 구성요소로는 다음 4가지가 있다.
1. 리전(Region),
2. 가용영역(AZ, Availability Zones),
3. 엣지 로케이션(Edge Location),
4. 리전 엣지 캐시(Regional Edge Cache)

Aws를 입문하는데 가장 기초적인 내용이고 가장 핵심적인 구조라고 함.  
위 용어들을 이해하면 Aws를 이해하고 사용하는데 수월할 것 이다.

# 리전 (Region)
리전이란? Aws의 서비스들이 제공되는 서버의 물리적인 국가/ 도시 단위의 위치를 의미한다.  
Aws의 여러개의 리전들은 여러국가에 배치하여 사용하고 있는데 이러한 이유로는 네트워크의 속도 차이 때문이다.   
우리나라에서 서비스를 배포하여 한국사용자들을 대상으로 서비스를 이용하려고 하는데,  
서버가 미국에 있으면 당연히 속도가 느려질 수 밖에 없다.   
또 어느한 리전에 재해로 문제가 발생하더라도 다른 지역에 있는 리전이 대신 서비스를 유지해 줄 수 있기 때문이다.    
법률 규제를 준수하기 위해서도 있다.    
애플리케이션에서 카드 거래 내역 등의 데이터를 국외에 있는 서버로 반출하지 못하는 법률이 존재하는 경우,   
국내 리전(서울 Region)의 클라우드 서비스를 이용하도록 해 규제를 준수하도록 하기 위함이다.  

### 리전 선택시 고려사항
1. 지연속도
    - 서비스를 이용하려면 국가의 근처의 리전
2. 법률
    - 우리나라에서 서비스하는 데이터는 우리나라 서버에서만 저장해야 한다는 법률 등
3. 사용 가능한 Aws 서비스
   - 어떤 리전에서는 사용할 수 있고, 다른 리전에서는 사용할 수 없는 서비스들이 있음
4. 리전별 가격 다름
   - 국가의 경제적 상황마다 리전가격이 다름
   
※ 우선수위: 레이턴시
## 가용영역 (Availability Zone - AZ)  
AZ이란 각 리전 안의 데이터센터 이다.   
기본적으로 Aws의 각 리전 안에는 2개 이상의 AZ를 가지고 있다.  
각 AZ 건물들도 리전처럼 몇KM 이상 일정거리 만큼 떨어져 있다.  
이는 리전과 마찬가지로 화재나 지진, 정전, 재해 등으로 부터 어느 한 AZ가 작동불능이 되더라도,  
다른 AZ가 서비스를 유지할 수 있기 때문이다.    
다만 각 AZ 센터들은 서로간 멀리 떨어져 있으면 속도가 저하되기 때문에 100Km 이내에 거리에 있어야 한다.   
이러한 점들 이외에도 보안적인 측면과 트래픽 분산 에서도 이점으로 작용된다.   
   
## 엣지 로케이션 (Edge Location)  
엣지 로케이션(Edge Location)은 AWS의 콘텐츠 전송 네트워크(CDN)인 CloudFront와 DNS 서비스인 Route 53에서 사용하는 캐시 서버의 거점을 의미합니다.   
전 세계 여러 지역에 분포해 있으며, 사용자의 요청을 가장 가까운 위치에서 빠르게 처리할 수 있도록 돕습니다.   
이는 리전(Region)이나 가용 영역(Availability Zone)과는 별개의 개념으로, 주로 정적 콘텐츠를 캐싱하거나 DNS 요청을 빠르게 처리하는 데 사용됩니다.    
   
>CloudFront란 AWS에서 제공하는 CDN 서비스를 의미한다.     
>CDN(Contents Delivery Network) 서비스는 콘텐츠를 보다 빠르게 전송하는 기술로,    
>속도 개선과 회선 비용 절감에 용이하다.최초 요청 시에는 서버로부터 콘텐츠를 가져와 고객에게 전송하며,     
>동시에 CDN 캐싱장비에 저장한다.이후에는 CDN 캐싱 장비에 저장된 콘텐츠를 바로 전송하는 방식이다.    
>CDN 업체에서 지정하는 컨텐츠 만료 지점까지 호출이 없으면 주기적으로 삭제한다.     
> Cloud Front는 EC2나 S3 같은 서비스에서 사용할 경우,    
>가장 가까운 엣지로 라우팅되어 콘텐츠 전송 속도를 향상할 수 있다.이를 통해 데이터, 동영상, 애플리케이션 및 API까지 전송 가능하다.   
>- Static 캐싱 = 운영자가 콘텐츠를 미리 캐시 서버에 복사해서 요청 시 무조건 캐시 서버를 이용 가능  
>- Dynamic 캐싱 = 운영자가 미리 복사하지 않아 콘텐츠가 없을 때 Origin 서버로부터 다운받아 전달하는 방식   
   
멀리 떨어진 서버에 접속하면 속도가 느리고 지연이 발생하기 쉽습니다.   
예를 들어, 한국에 있는 사용자가 미국에 있는 서버에서 영상을 스트리밍한다고 가정해볼까요?   
  
처음에는 미국까지 연결해서 영상을 받아오는데 시간이 걸립니다.   
그리고 내일 다시 같은 영상을 보려고 해도,   
또다시 미국 서버에 접속해 데이터를 받아야 하죠.  
매번 먼 거리의 서버와 통신해야 하니, 당연히 느릴 수밖에 없습니다.    
  
이런 문제를 해결하기 위해 등장한 것이 바로 **엣지 로케이션(Edge Location)**입니다.   
  
AWS는 전 세계 여러 도시에 작은 데이터 센터(=엣지 로케이션)를 배치해두고,   
사용자가 자주 요청하는 콘텐츠를 **가까운 위치에 임시로 저장(캐싱)**합니다.  
그래서 한 번 가져온 콘텐츠는 엣지 로케이션에 보관되어,   
다음에 같은 요청이 들어오면 멀리 가지 않고 바로 근처에서 제공할 수 있습니다.   
마치,    
집 앞 편의점에 인기 음료가 미리 진열되어 있어서    
굳이 멀리 있는 본사 물류창고까지 갈 필요 없이   
바로 꺼내 마실 수 있는 것과 같은 개념입니다.    
정리하자면,     
엣지 로케이션은 CDN 서비스와 사용자가 만나는 지점으로,   
사용자가 콘텐츠를 빠르게 이용할 수 있도록 돕는 거점입니다.   
    
이런 구조 덕분에 웹사이트, 영상 스트리밍, 이미지 로딩 속도 등이   
더욱 빨라지고 사용자 경험도 향상됩니다.  
      
## 리전 엣지 캐시 (Regional Edge Cache)
엣지 로케이션은 CDN 서비스와 사용자가 만나는 지점으로,   
사용자가 콘텐츠를 빠르게 이용할 수 있도록 돕는 거점입니다.   
   
이런 구조 덕분에 웹사이트, 영상 스트리밍, 이미지 로딩 속도 등이    
더욱 빨라지고 사용자 경험도 향상됩니다.    
  
  
> 참고 출처: https://inpa.tistory.com/entry/AWS-📚-아마존-웹-서비스-구조-Region-AZ-Edge-Location-Cache-완벽-정리 [Inpa Dev 👨‍💻:티스토리]
